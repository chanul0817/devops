## 탄력적 IP (Elastic IP) 정리
### 탄력적 IP란?
- **AWS에서 제공하는 고정 공인 IP 주소**
- EC2 인스턴스에 할당해서 **재시작해도 IP가 변하지 않도록** 고정시킬 수 있음
---
### 일반 공인 IP vs 탄력적 IP
| 항목 | 일반 공인 IP | 탄력적 IP (Elastic IP) |
|------------------|----------------------|-----------------------------|
| IP 유지 | 인스턴스 재부팅 시 변경 | **고정됨 (변하지 않음)** |
| 요금 | 무료 | **유휴 상태일 때 과금됨** |
| 용도 | 임시 테스트, 비고정 서비스 | **DNS 연결, 고정 서버용** |
---
### 사용 이유
- EC2 인스턴스가 **재시작 또는 재할당**되어도 동일한 IP를 유지하기 위해
- **도메인 연결(DNS)** 시 안정성 확보
- EC2가 문제 생겨 다른 인스턴스로 이전할 때도 같은 IP 사용 가능
---
### 탄력적 IP 사용 절차
1. **탄력적 IP 할당**
- AWS 콘솔 > EC2 > 네트워크 & 보안 > 탄력적 IP > IP 주소 할당
2. **EC2 인스턴스에 연결**
- 할당된 탄력적 IP를 원하는 EC2 인스턴스에 연결
3. **DNS에 연결 (선택사항)**
- 고정 IP를 도메인 이름에 연결하여 안정적 접근 제공
4. **인스턴스 변경 시 재연결**
- 탄력적 IP는 인스턴스를 종료해도 사라지지 않음 → 새로운 인스턴스에 다시 연결 가능
---
### 과금 정책 (주의!)
- **탄력적 IP가 인스턴스에 연결되어 있지 않으면 요금이 발생** + **제한 초과 시 할당 거부**
- **계정 초기 상태에서는 보통 1~2개만 사용하는 것을 전제로 설계됨**
- **추가 요청 시에도 이유가 명확하지 않으면 거절 가능**
---
### 명령줄에서 관리 (AWS CLI)
```bash
# 탄력적 IP 할당
aws ec2 allocate-address
# 탄력적 IP 인스턴스에 연결
aws ec2 associate-address --instance-id i-xxxxxxxx --allocation-id eipalloc-xxxxxxxx
# 탄력적 IP 연결 해제
aws ec2 disassociate-address --association-id eipassoc-xxxxxxxx
# 탄력적 IP 해제 (반납)
aws ec2 release-address --allocation-id eipalloc-xxxxxxxx
```
---
## TIP
> EC2 인스턴스를 웹서버 등으로 운영할 경우 **탄력적 IP는 사실상 필수**입니다. 단, 안 쓰면 바로 반납해서 과금 막는 것 잊지 마세요!
