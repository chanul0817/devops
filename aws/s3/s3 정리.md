# AWS S3 (Simple Storage Service)

## 1. 개념
- AWS의 객체 스토리지 서비스
- HTTP/HTTPS API를 통해 접근 (온라인 저장소)
- 구글 드라이브처럼 파일을 저장하는 클라우드 스토리지
- 파일 업로드, 다운로드, 삭제, 수정 가능
- 무제한 저장, 자동 확장(elastic)
- 정적 웹사이트 호스팅 가능

## 2. 객체 스토리지 특징
- **객체(Object)**: 데이터 + 메타데이터
- **EBS(Block Storage)**와는 다름 (S3에 프로그램 설치 불가)
- S3는 파일 자체를 저장할 뿐, OS를 실행하거나 설치 불가

## 3. S3 사용 이유
- 무제한 저장, 저렴한 비용
- Auto Scaling, Load Balancing 불필요
- REST API로 파일 업/다운 가능
- 정적 웹페이지 호스팅 가능

## 4. S3 사용 예시
- 클라우드 저장소
- 이미지/동영상 서버
- 로그 저장소
- 데이터 백업
- 빅데이터 저장소
- 넷플릭스 같은 서비스의 미디어 저장소

## 5. S3의 기본 구성 요소
### - 버킷(Bucket)
- 객체(Object)를 저장하는 컨테이너
- 전 세계에서 유일한 이름 필요
- 버킷 안에는 다른 버킷 생성 불가
- 최대 100개 생성 가능
- 기본적으로 private 상태

### - 객체(Object)
- Key: 객체의 이름 (버킷 내 고유)
- Value: 데이터 본문
- Version ID: 버전 구분 식별자
- Metadata: 파일 정보 (수정일, 타입 등)
- ACL: 접근 제어 정보
- CORS: 교차 출처 리소스 공유 설정

## 6. 객체 특징
- 크기: 1 Byte ~ 5TB
- 무제한 저장 가능
- 객체 단위 권한 설정 가능
- 메타데이터는 수정 불가 (복사로 대체)
- 폴더처럼 계층 구조로 사용 가능 (접두어+슬래시)

## 7. 버전 관리 (Versioning)
- 객체에 여러 버전 유지
- 실수로 덮어쓰기/삭제 방지
- 삭제 시 "삭제 마커"를 최상단에 추가
- Version ID로 특정 버전 복원 가능
- 기본 비활성화 상태, 활성화하면 해제 불가 (일시 중지는 가능)

## 8. S3 리전(Region)
- 버킷의 물리적 저장 위치
- 리전 간 객체 공유 불가
- 리전 선택에 따라 비용, 지연시간 결정

## 9. S3 보안 / 권한
- 기본적으로 private
- 외부 접근 필요 시 4가지 방식 사용

### S3 접근 제어 방식
| 구분 | 설명 |
|------|------|
| IAM | 사용자 단위 접근 제어 |
| ACL | 객체 단위 접근 제어 |
| 버킷 정책 | 버킷 전체 접근 정책 관리 |
| Pre-signed URL | 제한 시간의 임시 접근 허용 |

### 권한 비교

| 항목 | 버킷 정책 | ACL | IAM |
|------|------------|-----|-----|
| AWS 계정 단위 제어 | ○ | ○ | X |
| IAM 사용자 단위 제어 | △ | X | ○ |
| S3 버킷 단위 제어 | ○ | ○ | ○ |
| S3 객체 단위 제어 | ○ | ○ | ○ |

