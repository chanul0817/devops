# AWS ELB(Elastic Load Balancer) 핵심 정리

## 1. ELB란?
- 여러 서버(EC2, 컨테이너, Lambda 등)에 트래픽을 자동 분산하는 AWS 관리형 부하분산 서비스
- 하나의 엔드포인트(DNS)로 사용자 요청을 받아, 백엔드 인스턴스에 고르게 분배
- 헬스 체크, SSL 오프로딩, 고정 세션, 로그 추출, CloudWatch 연동 등 다양한 기능 제공

---

## 2. 주요 기능
- **부하 분산(Load Balancing)**: 다수의 서버에 트래픽을 분산, 장애/과부하 방지
- **엔드포인트 제공**: 여러 인스턴스를 하나의 주소로 접근 가능
- **오토 스케일링 연동**: 인스턴스 수 자동 증감과 부하 분산을 함께 구성
- **헬스 체크**: 비정상 인스턴스 자동 제외
- **SSL 지원**: 암호화 트래픽 처리, 인증서 중앙 관리
- **고정 세션(Sticky Session)**: 사용자별 세션 유지
- **Cross-Zone Load Balancing**: 여러 AZ에 인스턴스가 분산되어도 트래픽을 고르게 분배
- **도메인 기반 접근**: IP가 아닌 DNS 이름으로 접근

---

## 3. 내부 구성 요소
- **리스너(Listener)**: 프로토콜/포트 기반으로 요청을 수신
- **대상 그룹(Target Group)**: 분산 대상 리소스(EC2, Lambda 등) 집합, 헬스 체크/모니터링
- **규칙(Rule)**: 경로, 호스트, 헤더 등 다양한 조건으로 트래픽 라우팅

---

## 4. ELB 종류

| 유형      | 계층 | 주요 특징                                      | 주요 활용 |
|-----------|------|-----------------------------------------------|-----------|
| ALB       | L7   | HTTP/HTTPS, 지능적 라우팅, Path/Host 기반      | 웹서비스, 마이크로서비스, 컨테이너 |
| NLB       | L4   | TCP/UDP, 초고성능, 고정 IP(EIP) 가능           | 실시간, 대용량 트래픽, 내부 서비스 |
| CLB       | L4/L7| 초기형, 단순 부하분산, 레거시                   | 구형 환경(비추천) |
| GWLB      | L3   | 네트워크 트래픽 검사/분석(방화벽, IDS 등)       | 보안/네트워크 어플라이언스 |

---

## 5. ALB vs NLB

- **ALB**: HTTP/HTTPS, 경로/호스트/헤더 기반 라우팅, SSL 오프로딩, L7 특화
- **NLB**: TCP/UDP, 고정 IP, 초고성능, L4 특화, 단순 라우팅

---

## 6. 요금 정책
- 사용 시간, 처리 용량(LCU), 데이터 전송량 기준 과금
- ALB/NLB: 시간 + LCU
- CLB: 시간 + 데이터 전송량

---

## 7. 실전 활용 팁
- 오토스케일링 그룹과 조합해 고가용성/장애내구성 확보
- ALB는 도메인 기반, NLB는 IP 기반 접근 가능
- 보안 그룹/SSL 인증서/로그 추출 등 다양한 네트워크/보안 기능 활용
- Cross-Zone Load Balancing 활성화로 AZ 간 트래픽 균등 분산

---

## 8. 요약

- ELB는 AWS에서 트래픽 분산, 고가용성, 자동 확장, 보안, 모니터링을 모두 지원하는 핵심 서비스
- ALB(HTTP/HTTPS), NLB(TCP/UDP), GWLB(네트워크 보안), CLB(레거시)로 구분
- 오토스케일링, VPC, 보안 그룹 등과 연계해 클라우드 인프라의 중심 역할
