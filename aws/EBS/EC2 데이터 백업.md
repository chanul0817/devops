# EC2 데이터 백업 핵심 정리

## 1. 백업의 필요성
- EC2 인스턴스는 사용 요금이 발생하므로, 불필요한 인스턴스는 중지/종료하는 것이 좋다.
- 중요한 데이터 손실을 막기 위해 **정기적 백업**은 필수 습관이다.

---

## 2. 주요 백업 방식

### 1) EBS 스냅샷 (Snapshot)
- **EBS 볼륨의 특정 시점 상태**를 저장하는 증분 백업 방식
- S3에 저장되며, 최초 1회는 전체 백업, 이후에는 변경된 블록만 저장(용량 효율적)
- 스냅샷을 기반으로 EBS 볼륨을 복원하거나, 다른 리전/가용영역으로 복사 가능
- 스냅샷 자동화: Data Lifecycle Manager, AWS Backup 등으로 주기적 백업/삭제 자동화 가능
- 여러 EBS 볼륨을 동시에 일관성 있게 백업하는 **다중 볼륨 스냅샷** 지원

### 2) AMI (Amazon Machine Image)
- **EC2 인스턴스 전체(운영체제, 소프트웨어, 설정, 연결된 모든 EBS 볼륨)**를 하나의 이미지로 백업
- AMI에는 인스턴스 세팅, OS, EBS 연결 정보 등 복제에 필요한 모든 정보 포함
- AMI를 사용해 동일한 환경의 EC2 인스턴스를 빠르게 복구/복제 가능
- Auto Scaling, 긴급 복구, 복잡한 인스턴스 세팅 보관에 유용
- AMI 생성 시 내부적으로 EBS 스냅샷이 함께 생성됨

---

## 3. AMI와 Snapshot의 차이

| 구분      | AMI                                 | Snapshot                     |
|-----------|-------------------------------------|------------------------------|
| 백업 범위 | EC2 전체(모든 EBS, OS, 설정 포함)   | 특정 EBS 볼륨 1개            |
| 복구      | EC2 인스턴스 전체 복구/복제         | EBS 볼륨만 복구/복제         |
| 활용      | 인스턴스 템플릿, Auto Scaling 등     | 데이터 백업, 리전/AZ 이동 등 |
| 생성      | EC2에서 이미지 생성                 | EBS에서 스냅샷 생성          |

- AMI는 EC2 전체 환경 백업, Snapshot은 개별 EBS 볼륨 백업

---

## 4. 복원 및 활용

- **스냅샷 복원**: 스냅샷에서 EBS 볼륨 생성 → EC2에 연결
- **AMI 복원**: AMI에서 EC2 인스턴스 생성(동일 환경 복구)
- 스냅샷을 다른 리전/가용영역으로 복사해 재해 복구 및 마이그레이션 가능

---

## 5. 자동화 및 관리

- **수명 주기 관리자**로 스냅샷/AMI 자동 생성 및 삭제 정책 설정
- AWS Backup 서비스로 EC2, EBS, RDS 등 통합 백업 관리 가능
- 스냅샷 아카이브, 휴지통, 빠른 복원 등 다양한 옵션 제공

---

## 6. 실무 팁

- 중요한 데이터는 반드시 정기적으로 스냅샷/AMI로 백업
- 스냅샷/AMI는 S3에 저장되어 내구성 높음
- 리전/가용영역 간 데이터 이동 시 스냅샷 복사 활용
- 백업 자동화 정책으로 관리 효율성 및 비용 최적화

---
