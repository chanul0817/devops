# VPC(Virtual Private Cloud) 개념 정리

## 1. VPC란?
- AWS 계정 사용자 전용의 가상 네트워크
- IP 주소 범위, 서브넷, 라우팅 테이블, 게이트웨이 등 직접 설정 가능
- 쉽게 말해 "AWS의 나만의 데이터센터"

---

## 2. VPC의 중요성
- 2011년 출시 이후 EC2-Classic 플랫폼 폐지
- 현재 대부분의 AWS 서비스가 VPC에 의존
- AWS는 VPC 사용을 사실상 강제함

---

## 3. VPC 사용을 위한 선수 지식
- IP 클래스 / 서브넷 마스크 / 서브넷팅
- CIDR 개념 및 계산법
- Region, AZ, Edge Location 개념
- 클라우드 기본 용어 (고가용성, 확장성 등)

---

## 4. VPC 구성 요소

### ● VPC
- 리전(Region)에 종속된 가장 큰 네트워크 단위
- 하나의 리전에 여러 VPC 생성 가능, 서로 다른 VPC끼리는 기본적으로 통신 불가
- VPC 간 통신은 VPC Peering을 통해 가능

### ● IP 대역
- RFC1918 사설 IP 범위 사용:
  - 10.0.0.0/8
  - 172.16.0.0/12
  - 192.168.0.0/16
- AWS에서 허용하는 CIDR 범위: /16 ~ /28
- CIDR 설정은 한 번 설정 후 변경 불가
- 같은 리전에 여러 VPC를 만들 경우 IP 대역이 겹치면 안 됨

---

## 5. 서브넷(Subnet)

### ● 개념
- VPC를 더 작게 나눈 네트워크 단위
- 실제 리소스(EC2, RDS 등)가 생성되는 영역
- 한 AZ에만 서브넷을 생성할 수 있음

### ● CIDR 범위
- VPC 범위 내에서 설정 (/16 ~ /28)

### ● AWS 예약 주소 (사용 불가 IP 예시: /24 기준)
- .0: 네트워크 주소
- .1: 기본 게이트웨이
- .2: DNS
- .3: AWS 예약용
- .255: 브로드캐스트
- → 총 5개의 IP는 자동으로 예약됨 → 실제 사용 가능한 호스트 수 = 총 개수 - 5

---

## 6. Public Subnet / Private Subnet

| 항목              | Public Subnet      | Private Subnet      |
|-------------------|--------------------|---------------------|
| 외부 인터넷 연결  | 가능               | 불가능              |
| 접근 방식         | Public IP/Elastic IP 필요 | 내부 통신 전용  |
| 사용 목적         | 웹 서버, 프록시 등 | DB 서버, 민감 데이터 등 |

- 인바운드: 외부 → 인스턴스
- 아웃바운드: 인스턴스 → 외부
- Private Subnet에서 인터넷 사용하려면 NAT Gateway 사용

---

## 7. 서브넷 구성 예시

VPC: 10.0.0.0/16

Public Subnet:
- 10.0.1.0/24 (AZ-a)
- 10.0.2.0/24 (AZ-b)

Private Subnet:
- 10.0.3.0/25 (AZ-a)
- 10.0.4.0/25 (AZ-b)

- 공용 서버는 많은 IP 필요 → /24 (256개)
- 민감 리소스는 적은 IP 필요 → /25 (128개)
