# AWS Cognito 정리

기존 사용자 관리, 인증/인가 시스템을 직접 구축하려면 많은 시간과 보안 리소스가 필요함.  
→ AWS Cognito를 사용하면 간편하게 인증/인가 및 사용자 관리를 구현 가능.

---

### AWS Cognito란?
- 웹 & 모바일 앱 사용자 인증, 권한 부여, 사용자 관리 기능 제공
- 로그인 방식:
  - 자체 계정 (아이디/비밀번호)
  - 소셜 로그인 (Facebook, Google, Amazon, Apple 등) → OAuth 지원

---

### Cognito의 장점

- **사용자 관리가 쉬움**
- **확장성 뛰어남**: 수억 명까지 관리 가능 (완전 관리형 디렉터리)
- **보안 기능 강화**:
  - MFA (멀티 팩터 인증)
  - 이메일/SMS 인증
  - AWS 보안 기술 기반
- **모바일 & 서버리스에 최적화**

---

### 구성 요소

#### 1. 사용자 풀 (User Pool)
- 사용자 정보 저장을 위한 데이터베이스
- 기능:
  - 회원가입 / 로그인
  - 로그인 후 **JWT 토큰 발급**
  - 내장 UI 제공 (또는 커스텀 가능)
  - 소셜 로그인 + SAML / OIDC 지원
  - 사용자 프로필 관리 가능
  - Lambda 트리거로 인증 과정 커스터마이징 가능

#### 2. 자격 증명 풀 (Identity Pool)
- 로그인된 사용자에게 **임시 AWS 자격 증명** 발급
- 발급된 자격 증명으로 **S3, DynamoDB 등 AWS 서비스 접근 가능**
- 지원 사용자:
  - Cognito 사용자 풀 유저
  - Facebook, Google, Apple 로그인 유저
  - SAML, OIDC 기반 인증 유저

---

### 흐름 요약

1. 사용자 풀 → 로그인 / JWT 토큰 발급
2. 자격 증명 풀 → 해당 토큰 기반으로 AWS 자격 증명 발급
3. S3 등 AWS 서비스 접근 가능
