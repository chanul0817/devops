## 코드형 인프라의 4가지 원칙 정리

---

### 1. 재현성 (Reproducibility)

- 같은 코드를 실행하면 **항상 같은 결과**가 나와야 함
- 누가, 언제, 어디서 실행해도 결과가 똑같아야 함
- 수동 설정이 아닌 코드로 기록되어야 가능함

🡒 예: 개발 환경, 테스트 환경, 운영 환경이 다 똑같은 구성으로 만들어짐

---

### 2. 멱등성 (Idempotency)

- 같은 코드를 여러 번 실행해도 **상태가 바뀌지 않음**
- 이미 만들어진 리소스는 다시 만들지 않음
- 변경이 필요한 부분만 적용되고, 나머지는 무시됨

🡒 예: `terraform apply`를 여러 번 실행해도 리소스는 중복으로 안 만들어짐

---

### 3. 결합성 (Composability)

- 인프라 코드를 **모듈처럼 재사용** 가능해야 함
- 여러 작은 구성요소를 조합해서 큰 시스템 구성 가능
- 각각 독립적이지만 함께 사용할 수 있도록 구조화해야 함

🡒 예: VPC, EC2, RDS를 따로 모듈로 만들고 필요한 곳에 가져다 씀

---

### 4. 진화 가능성 (Evolvability)

- 인프라 코드가 점진적으로 **변화와 확장 가능**해야 함
- 처음부터 완벽하게 만들 필요 없이, 유지보수와 발전이 쉬워야 함
- Git과 같은 버전 관리 도구를 통해 변경 이력 추적 가능

🡒 예: 서비스가 커지면서 리소스 구조를 리팩토링하거나, 새 기능 추가 가능

---

### 정리 요약

| 원칙         | 설명 |
|--------------|------|
| 재현성        | 실행할 때마다 같은 인프라 구성 가능 |
| 멱등성        | 여러 번 실행해도 결과가 동일함 |
| 결합성        | 모듈 단위로 쪼개서 재사용 가능 |
| 진화 가능성   | 점진적으로 구조 변경 및 확장 가능 |
